(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var e,h=this||self;function aa(){}function ba(a){var b=typeof a;b="object"!=b?b:a?Array.isArray(a)?"array":b:"null";return"array"==b||"object"==b&&"number"==typeof a.length}function k(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ca(a){return Object.prototype.hasOwnProperty.call(a,da)&&a[da]||(a[da]=++ea)}var da="closure_uid_"+(1E9*Math.random()>>>0),ea=0;function fa(a,b,c){return a.call.apply(a.bind,arguments)}
function ha(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,d);return a.apply(b,f)}}return function(){return a.apply(b,arguments)}}function n(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n=fa:n=ha;return n.apply(null,arguments)}
function ia(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}}function p(a,b){a=a.split(".");var c=h;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b}
function q(a,b){function c(){}c.prototype=b.prototype;a.G=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.B=function(d,f,g){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];b.prototype[f].apply(d,l)}};function r(){0!=ja&&(ka[ca(this)]=this);this.s=this.s;this.h=this.h}var ja=0,ka={};e=r.prototype;e.s=!1;e.na=function(){return this.s};e.C=function(){if(!this.s&&(this.s=!0,this.v(),0!=ja)){var a=ca(this);if(0!=ja&&this.h&&0<this.h.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ka[a]}};
e.N=function(a,b){this.s?void 0!==b?a.call(b):a():(this.h||(this.h=[]),this.h.push(void 0!==b?n(a,b):a))};e.v=function(){if(this.h)for(;this.h.length;)this.h.shift()()};function t(a){if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{const b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}q(t,Error);t.prototype.name="CustomError";function la(a,b){a=a.split("%s");for(var c="",d=a.length-1,f=0;f<d;f++)c+=a[f]+(f<b.length?b[f]:"%s");t.call(this,c+a[d])}q(la,t);la.prototype.name="AssertionError";function ma(a,b){throw new la("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};function na(a,b,c){Array.prototype.forEach.call(a,b,c)}function oa(a,b){return Array.prototype.map.call(a,b,void 0)}function pa(a){return Array.prototype.concat.apply([],arguments)}function qa(a){const b=a.length;if(0<b){const c=Array(b);for(let d=0;d<b;d++)c[d]=a[d];return c}return[]}function ra(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function sa(a,b){return a>b?1:a<b?-1:0};var u="StopIteration"in h?h.StopIteration:{message:"StopIteration",stack:""};function v(){}v.prototype.next=function(){return v.prototype.g.call(this)};v.prototype.g=function(){throw u;};v.prototype.F=function(){return this};function ta(a){if(a instanceof v)return a;if("function"==typeof a.F)return a.F(!1);if(ba(a)){var b=0,c=new v;c.g=function(){for(;;){if(b>=a.length)throw u;if(b in a)return a[b++];b++}};c.next=c.g.bind(c);return c}throw Error("Not implemented");}
function ua(a,b){if(ba(a))try{na(a,b,void 0)}catch(c){if(c!==u)throw c;}else{a=ta(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==u)throw c;}}}function va(a,b){var c=ta(a);a=new v;a.g=function(){var d=c.next();return b.call(void 0,d,void 0,c)};a.next=a.g.bind(a);return a}function wa(a){if(ba(a))return qa(a);a=ta(a);var b=[];ua(a,function(c){b.push(c)});return b}function xa(){var a=0,b=new v;b.g=function(){var c=a;a+=1;return c};b.next=b.g.bind(b);return b};function ya(a){const b=[];za(new Aa,a,b);return b.join("")}function Aa(){}
function za(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(Array.isArray(b)){var d=b;b=d.length;c.push("[");var f="";for(var g=0;g<b;g++)c.push(f),za(a,d[g],c),f=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(g=b[d],"function"!=typeof g&&(c.push(f),Ba(d,c),c.push(":"),za(a,g,c),f=","));c.push("}");return}}switch(typeof b){case "string":Ba(b,c);break;
case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var Ca={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Da=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;
function Ba(a,b){b.push('"',a.replace(Da,function(c){let d=Ca[c];d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),Ca[c]=d);return d}),'"')};function Ea(a,b){for(const c in a)b.call(void 0,a[c],c,a)}function Fa(a){let b=0;for(const c in a)b++;return b};(class{constructor(a,b){this.g=b===Ga?a:""}}).prototype.toString=function(){return this.g.toString()};var Ga={};var Ha;a:{var Ia=h.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){Ha=Ja;break a}}Ha=""};var Ka=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};/*

 Copyright 2016 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function La(a,b){if("undefined"!==typeof Document&&a instanceof Document)return"<Document>";if("undefined"!==typeof Window&&a instanceof Window)return"<Window>";if("undefined"!==typeof NodeList&&a instanceof NodeList)return"<NodeList>";if("undefined"!==typeof HTMLCollection&&a instanceof HTMLCollection)return"<HTMLCollection>";if("undefined"!==typeof Node&&a instanceof Node)return"<Node>";if(a instanceof r)return"<Class>";if(h.chrome&&a===h.chrome)return"<chrome>";if(void 0===a)return"undefined";
if(null===a)return"null";switch(typeof a){case "boolean":return a?"true":"false";case "number":return Ma(a);case "string":return'"'+a+'"'}if("function"===typeof a)return"<Function>";if(a instanceof ArrayBuffer)return`ArrayBuffer[${Na(new Uint8Array(a))}]`;if(ArrayBuffer.isView(a))return a instanceof DataView?`DataView[${Na(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))}]`:Oa(a);if(!k(a))return ya(a)||"null";if(b.has(a))return"<circular>";b.add(a);var c;Array.isArray(a)?c="["+Pa(a,b)+"]":c=a instanceof
Map?"Map{"+Qa(Array.from(a.entries()),b)+"}":a instanceof Set?"Set{"+Pa(Array.from(a),b)+"}":k(a)?Ra(a,b):ya(a)||"null";b.delete(a);return c}function Ra(a,b){const c=[];Ea(a,function(d,f){c.push([f,d])});return"{"+Qa(c,b)+"}"}function Oa(a){const b=a.constructor.name;a instanceof Uint8Array?a=Na(a):(a=va(a,c=>Ma(c)),a=wa(a).join(", "));return`${b}[${a}]`}function Na(a){if(!a.length)return"";a=va(a,b=>{b=b.toString(16).toUpperCase();return Ka("0",2-b.length)+b});return`0x${wa(a).join("")}`}
function Ma(a){if(!isFinite(a))return a.toString();if(!isFinite(a)||0!=a%1)return ya(a)||"null";const b=Sa(a);if(!b)return ya(a)||"null";0>a&&(a+=Math.pow(2,b));a=a.toString(16).toUpperCase();return"0x"+Ka("0",b/4-a.length)+a}function Qa(a,b){a=oa(a,function(c){return La(c[0],b)+": "+La(c[1],b)});return wa(a).join(", ")}function Pa(a,b){a=va(a,c=>La(c,b));return wa(a).join(", ")}
function Sa(a){let b=null;na([8,32,64],function(c){const d=Math.pow(2,c);-Math.pow(2,c-1)<=a&&a<d&&null===b&&(b=c)});return b}function x(){return"<stripped value>"};function Ta(a,b){var c=Ua;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};function y(a,b){this.h=b;for(var c=[],d=!0,f=a.length-1;0<=f;f--){var g=a[f]|0;d&&g==b||(c[f]=g,d=!1)}this.g=c}var Ua={};function Va(a){return-128<=a&&128>a?Ta(a,function(b){return new y([b|0],0>b?-1:0)}):new y([a|0],0>a?-1:0)}function Wa(a){if(isNaN(a)||!isFinite(a))return Xa;if(0>a)return z(Wa(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=Ya;return new y(b,0)}var Ya=4294967296,Xa=Va(0),Za=Va(1),$a=Va(16777216);function ab(a){return 0<a.g.length?a.g[0]:a.h}
function bb(a){if(A(a))return-bb(z(a));for(var b=0,c=1,d=0;d<a.g.length;d++){var f=B(a,d);b+=(0<=f?f:Ya+f)*c;c*=Ya}return b}e=y.prototype;e.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(C(this))return"0";if(A(this))return"-"+z(this).toString(a);for(var b=Wa(Math.pow(a,6)),c=this,d="";;){var f=cb(c,b).g,g=(ab(db(c,D(f,b)))>>>0).toString(a);c=f;if(C(c))return g+d;for(;6>g.length;)g="0"+g;d=g+d}};function B(a,b){return 0>b?0:b<a.g.length?a.g[b]:a.h}
function C(a){if(0!=a.h)return!1;for(var b=0;b<a.g.length;b++)if(0!=a.g[b])return!1;return!0}function A(a){return-1==a.h}function eb(a,b){a=db(a,b);return A(a)?-1:C(a)?0:1}function z(a){for(var b=a.g.length,c=[],d=0;d<b;d++)c[d]=~a.g[d];return(new y(c,~a.h)).add(Za)}e.abs=function(){return A(this)?z(this):this};
e.add=function(a){for(var b=Math.max(this.g.length,a.g.length),c=[],d=0,f=0;f<=b;f++){var g=d+(B(this,f)&65535)+(B(a,f)&65535),l=(g>>>16)+(B(this,f)>>>16)+(B(a,f)>>>16);d=l>>>16;g&=65535;l&=65535;c[f]=l<<16|g}return new y(c,c[c.length-1]&-2147483648?-1:0)};function db(a,b){return a.add(z(b))}
function D(a,b){if(C(a)||C(b))return Xa;if(A(a))return A(b)?D(z(a),z(b)):z(D(z(a),b));if(A(b))return z(D(a,z(b)));if(0>eb(a,$a)&&0>eb(b,$a))return Wa(bb(a)*bb(b));for(var c=a.g.length+b.g.length,d=[],f=0;f<2*c;f++)d[f]=0;for(f=0;f<a.g.length;f++)for(var g=0;g<b.g.length;g++){var l=B(a,f)>>>16,m=B(a,f)&65535,w=B(b,g)>>>16,E=B(b,g)&65535;d[2*f+2*g]+=m*E;fb(d,2*f+2*g);d[2*f+2*g+1]+=l*E;fb(d,2*f+2*g+1);d[2*f+2*g+1]+=m*w;fb(d,2*f+2*g+1);d[2*f+2*g+2]+=l*w;fb(d,2*f+2*g+2)}for(f=0;f<c;f++)d[f]=d[2*f+1]<<
16|d[2*f];for(f=c;f<2*c;f++)d[f]=0;return new y(d,0)}function fb(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++}function gb(a,b){this.g=a;this.h=b}
function cb(a,b){if(C(b))throw Error("division by zero");if(C(a))return new gb(Xa,Xa);if(A(a))return b=cb(z(a),b),new gb(z(b.g),z(b.h));if(A(b))return b=cb(a,z(b)),new gb(z(b.g),b.h);if(30<a.g.length){if(A(a)||A(b))throw Error("slowDivide_ only works with positive integers.");for(var c=Za,d=b;0>=eb(d,a);)c=hb(c),d=hb(d);var f=ib(c,1),g=ib(d,1);d=ib(d,2);for(c=ib(c,2);!C(d);){var l=g.add(d);0>=eb(l,a)&&(f=f.add(c),g=l);d=ib(d,1);c=ib(c,1)}b=db(a,D(f,b));return new gb(f,b)}for(f=Xa;0<=eb(a,b);){c=Math.max(1,
Math.floor(bb(a)/bb(b)));d=Math.ceil(Math.log(c)/Math.LN2);d=48>=d?1:Math.pow(2,d-48);g=Wa(c);for(l=D(g,b);A(l)||0<eb(l,a);)c-=d,g=Wa(c),l=D(g,b);C(g)&&(g=Za);f=f.add(g);a=db(a,l)}return new gb(f,a)}e.and=function(a){for(var b=Math.max(this.g.length,a.g.length),c=[],d=0;d<b;d++)c[d]=B(this,d)&B(a,d);return new y(c,this.h&a.h)};e.or=function(a){for(var b=Math.max(this.g.length,a.g.length),c=[],d=0;d<b;d++)c[d]=B(this,d)|B(a,d);return new y(c,this.h|a.h)};
e.xor=function(a){for(var b=Math.max(this.g.length,a.g.length),c=[],d=0;d<b;d++)c[d]=B(this,d)^B(a,d);return new y(c,this.h^a.h)};function hb(a){for(var b=a.g.length+1,c=[],d=0;d<b;d++)c[d]=B(a,d)<<1|B(a,d-1)>>>31;return new y(c,a.h)}function ib(a,b){var c=b>>5;b%=32;for(var d=a.g.length-c,f=[],g=0;g<d;g++)f[g]=0<b?B(a,g+c)>>>b|B(a,g+c+1)<<32-b:B(a,g+c);return new y(f,a.h)};function F(a){return ab(Wa(a))};class jb{constructor(a,b){this.g=a[h.Symbol.iterator]();this.h=b;this.i=0}[Symbol.iterator](){return this}next(){const a=this.g.next();return{value:a.done?void 0:this.h.call(void 0,a.value,this.i++),done:a.done}}}function kb(a,b){return new jb(a,b)};function lb(a){if(a instanceof mb||a instanceof nb||a instanceof ob)return a;if("function"==typeof a.next)return new mb(()=>pb(a));if("function"==typeof a[Symbol.iterator])return new mb(()=>a[Symbol.iterator]());if("function"==typeof a.F)return new mb(()=>pb(a.F()));throw Error("Not an iterator or iterable.");}const pb=a=>{if(!(a instanceof v))return a;let b=!1;return{next(){let c;for(;!b;)try{c=a.next();break}catch(d){if(d!==u)throw d;b=!0}return{value:c,done:b}}}};
class mb{constructor(a){this.g=a}F(){return new nb(this.g())}[Symbol.iterator](){return new ob(this.g())}i(){return new ob(this.g())}}class nb extends v{constructor(a){super();this.h=a}g(){const a=this.h.next();if(a.done)throw u;return a.value}next(){return nb.prototype.g.call(this)}[Symbol.iterator](){return new ob(this.h)}i(){return new ob(this.h)}}class ob extends mb{constructor(a){super(()=>a);this.h=a}next(){return this.h.next()}};function qb(a,b){this.h={};this.g=[];this.i=this.size=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a)if(a instanceof qb)for(c=a.K(),d=0;d<c.length;d++)this.set(c[d],a.get(c[d]));else for(d in a)this.set(d,a[d])}e=qb.prototype;e.I=function(){rb(this);for(var a=[],b=0;b<this.g.length;b++)a.push(this.h[this.g[b]]);return a};e.K=function(){rb(this);return this.g.concat()};
e.has=function(a){return sb(this.h,a)};e.clear=function(){this.h={};this.i=this.size=this.g.length=0};e.remove=function(a){sb(this.h,a)?(delete this.h[a],--this.size,this.i++,this.g.length>2*this.size&&rb(this),a=!0):a=!1;return a};function rb(a){if(a.size!=a.g.length){for(var b=0,c=0;b<a.g.length;){var d=a.g[b];sb(a.h,d)&&(a.g[c++]=d);b++}a.g.length=c}if(a.size!=a.g.length){var f={};for(c=b=0;b<a.g.length;)d=a.g[b],sb(f,d)||(a.g[c++]=d,f[d]=1),b++;a.g.length=c}}
e.get=function(a,b){return sb(this.h,a)?this.h[a]:b};e.set=function(a,b){sb(this.h,a)||(this.size+=1,this.g.push(a),this.i++);this.h[a]=b};e.forEach=function(a,b){for(var c=this.K(),d=0;d<c.length;d++){var f=c[d],g=this.get(f);a.call(b,g,f,this)}};e.keys=function(){return lb(this.F(!0)).i()};e.values=function(){return lb(this.F(!1)).i()};e.entries=function(){const a=this;return kb(this.keys(),function(b){return[b,a.get(b)]})};
e.F=function(a){rb(this);var b=0,c=this.i,d=this,f=new v;f.g=function(){if(c!=d.i)throw Error("The map has changed since the iterator was created");if(b>=d.g.length)throw u;var g=d.g[b++];return a?g:d.h[g]};f.next=f.g.bind(f);return f};function sb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var tb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ub(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),f=null;if(0<=d){var g=a[c].substring(0,d);f=a[c].substring(d+1)}else g=a[c];b(g,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}};function vb(a,b){this.j=this.u=this.i="";this.m=null;this.o=this.h="";this.g=!1;if(a instanceof vb){this.g=void 0!==b?b:a.g;wb(this,a.i);this.u=a.u;this.j=a.j;xb(this,a.m);this.h=a.h;b=a.l;var c=new yb;c.i=b.i;b.g&&(c.g=new qb(b.g),c.h=b.h);zb(this,c);this.o=a.o}else a&&(c=String(a).match(tb))?(this.g=!!b,wb(this,c[1]||"",!0),this.u=Ab(c[2]||""),this.j=Ab(c[3]||"",!0),xb(this,c[4]),this.h=Ab(c[5]||"",!0),zb(this,c[6]||"",!0),this.o=Ab(c[7]||"")):(this.g=!!b,this.l=new yb(null,this.g))}
vb.prototype.toString=function(){var a=[],b=this.i;b&&a.push(Bb(b,Cb,!0),":");var c=this.j;if(c||"file"==b)a.push("//"),(b=this.u)&&a.push(Bb(b,Cb,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.m,null!=c&&a.push(":",String(c));if(c=this.h)this.j&&"/"!=c.charAt(0)&&a.push("/"),a.push(Bb(c,"/"==c.charAt(0)?Db:Eb,!0));(c=this.l.toString())&&a.push("?",c);(c=this.o)&&a.push("#",Bb(c,Fb));return a.join("")};
function wb(a,b,c){a.i=c?Ab(b,!0):b;a.i&&(a.i=a.i.replace(/:$/,""))}function xb(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.m=b}else a.m=null}function zb(a,b,c){b instanceof yb?(a.l=b,Gb(a.l,a.g)):(c||(b=Bb(b,Hb)),a.l=new yb(b,a.g))}function Ab(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Bb(a,b,c){return"string"===typeof a?(a=encodeURI(a).replace(b,Ib),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}
function Ib(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Cb=/[#\/\?@]/g,Eb=/[#\?:]/g,Db=/[#\?]/g,Hb=/[#\?@]/g,Fb=/#/g;function yb(a,b){this.h=this.g=null;this.i=a||null;this.j=!!b}function G(a){a.g||(a.g=new qb,a.h=0,a.i&&ub(a.i,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}e=yb.prototype;e.add=function(a,b){G(this);this.i=null;a=Jb(this,a);var c=this.g.get(a);c||this.g.set(a,c=[]);c.push(b);this.h+=1;return this};
e.remove=function(a){G(this);a=Jb(this,a);return this.g.has(a)?(this.i=null,this.h-=this.g.get(a).length,this.g.remove(a)):!1};e.clear=function(){this.g=this.i=null;this.h=0};function Kb(a,b){G(a);b=Jb(a,b);return a.g.has(b)}e.forEach=function(a,b){G(this);this.g.forEach(function(c,d){na(c,function(f){a.call(b,f,d,this)},this)},this)};e.K=function(){G(this);for(var a=this.g.I(),b=this.g.K(),c=[],d=0;d<b.length;d++)for(var f=a[d],g=0;g<f.length;g++)c.push(b[d]);return c};
e.I=function(a){G(this);var b=[];if("string"===typeof a)Kb(this,a)&&(b=pa(b,this.g.get(Jb(this,a))));else{a=this.g.I();for(var c=0;c<a.length;c++)b=pa(b,a[c])}return b};e.set=function(a,b){G(this);this.i=null;a=Jb(this,a);Kb(this,a)&&(this.h-=this.g.get(a).length);this.g.set(a,[b]);this.h+=1;return this};e.get=function(a,b){if(!a)return b;a=this.I(a);return 0<a.length?String(a[0]):b};
e.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],b=this.g.K(),c=0;c<b.length;c++){var d=b[c],f=encodeURIComponent(String(d));d=this.I(d);for(var g=0;g<d.length;g++){var l=f;""!==d[g]&&(l+="="+encodeURIComponent(String(d[g])));a.push(l)}}return this.i=a.join("&")};function Jb(a,b){b=String(b);a.j&&(b=b.toLowerCase());return b}
function Gb(a,b){b&&!a.j&&(G(a),a.i=null,a.g.forEach(function(c,d){var f=d.toLowerCase();d!=f&&(this.remove(d),this.remove(f),0<c.length&&(this.i=null,this.g.set(Jb(this,f),qa(c)),this.h+=c.length))},a));a.j=b};function Lb(){this.g=Date.now()}var Mb=null;Lb.prototype.set=function(a){this.g=a};Lb.prototype.reset=function(){this.set(Date.now())};Lb.prototype.get=function(){return this.g};var H=class{constructor(a,b){this.name=a;this.value=b}toString(){return this.name}},I=new H("OFF",Infinity),Nb=new H("SHOUT",1200),Ob=new H("SEVERE",1E3),Pb=new H("WARNING",900),Qb=new H("INFO",800),Rb=new H("CONFIG",700),Sb=new H("FINE",500),Tb=new H("FINER",400),J=new H("FINEST",300),Ub=new H("ALL",0),Vb=[I,Nb,Ob,Pb,Qb,Rb,Sb,Tb,J,Ub],K=null;function Wb(){K={};for(let a=0,b;b=Vb[a];a++)K[b.value]=b,K[b.name]=b}function Xb(a){K||Wb();return K[a]||null}
var Yb=class{g(){}},Zb=class{constructor(){this.clear()}clear(){}},$b,L=class{constructor(a,b,c,d,f){this.h=null;this.reset(a||I,b,c,d,f)}reset(a,b,c,d,f){this.j=d||Date.now();this.i=a;this.m=b;this.g=c;this.h=null;this.o="number"===typeof f?f:ac}J(){return this.g}P(a){this.g=a}u(){return this.h}l(a){this.h=a}D(){return this.i}M(a){this.i=a}getMessage(){return this.m}R(a){this.m=a}H(){return this.j}S(a){this.j=a}L(){return this.o}},ac=0;
function bc(a){if(a.g)return a.g;if(a.i)return bc(a.i);ma("Root logger has no level set.");return I}var cc=class{constructor(a,b=null){this.g=null;this.h=[];this.i=b||null;this.l=[];this.j={g:()=>a}}publish(a){let b=this;for(;b;)b.h.forEach(c=>{c(a)}),b=b.i}};function M(a,b,c){var d=a.entries[b];if(d)return void 0!==c&&(d.g=c),d;d=M(a,b.substr(0,b.lastIndexOf(".")));const f=new cc(b,d);a.entries[b]=f;d.l.push(f);void 0!==c&&(f.g=c);return f}
var dc=class{constructor(){this.entries={};const a=new cc("");a.g=Rb;this.entries[""]=a}},fc;function N(){fc||(fc=new dc);return fc}function gc(a,b){return M(N(),a,b).j}function hc(a,b){a&&M(N(),a.g()).h.push(b)}function ic(a,b){return a&&(a=M(N(),a.g()),b=a.h.indexOf(b),-1!==b)?(a.h.splice(b,1),!0):!1}function jc(a,b){a&&(M(N(),a.g()).g=b)}function kc(a){return a?bc(M(N(),a.g())):I}function lc(a,b){return a&&b?b.value>=kc(a).value:!1}
function O(a,b,c,d){if(a&&lc(a,b)){b=b||I;const f=M(N(),a.g());"function"===typeof c&&(c=c());$b||($b=new Zb);a=new L(b,c,a.g());d&&a.l(d);f.publish(a)}}function mc(a,b,c){a&&O(a,Ob,b,c)}function P(a,b,c){a&&O(a,Pb,b,c)}function nc(a,b,c){a&&O(a,Qb,b,c)}function Q(a,b,c){a&&O(a,Sb,b,c)};function oc(a){this.g=a||"";Mb||(Mb=new Lb);this.h=Mb}e=oc.prototype;e.U=!0;e.O=!0;e.T=!0;e.Z=!1;e.$=!1;function pc(a){return 10>a?"0"+a:String(a)}function qc(a){oc.call(this,a)}q(qc,oc);
function rc(a,b){var c=[];c.push(a.g," ");if(a.O){var d=new Date(b.j);c.push("[",pc(d.getFullYear()-2E3)+pc(d.getMonth()+1)+pc(d.getDate())+" "+pc(d.getHours())+":"+pc(d.getMinutes())+":"+pc(d.getSeconds())+"."+pc(Math.floor(d.getMilliseconds()/10)),"] ")}if(a.T){d=c.push;var f=a.h.get();f=(b.j-f)/1E3;var g=f.toFixed(3),l=0;if(1>f)l=2;else for(;100>f;)l++,f*=10;for(;0<l--;)g=" "+g;d.call(c,"[",g,"s] ")}c.push("[",b.g,"] ");a.$&&c.push("[",b.i.name,"] ");c.push(b.getMessage());a.Z&&(b=b.h)&&c.push("\n",
b instanceof Error?b.message:b.toString());a.U&&c.push("\n");return c.join("")};/*

 Copyright 2020 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var sc=new qc;sc.O=!0;sc.T=!1;sc.$=!0;function tc(a){this.h=0;this.i=a||100;this.g=[]}e=tc.prototype;e.add=function(a){const b=this.g[this.h];this.g[this.h]=a;this.h=(this.h+1)%this.i;return b};e.get=function(a){a=uc(this,a);return this.g[a]};e.set=function(a,b){a=uc(this,a);this.g[a]=b};e.clear=function(){this.h=this.g.length=0};e.I=function(){const a=this.g.length;var b=this.g.length-this.g.length;const c=[];for(;b<a;b++)c.push(this.get(b));return c};e.K=function(){const a=[],b=this.g.length;for(let c=0;c<b;c++)a[c]=c;return a};
function uc(a,b){if(b>=a.g.length)throw Error("Out of bounds exception");return a.g.length<a.i?b:(a.h+Number(b))%a.i};function R(a){r.call(this);this.D=a;this.j=0;this.o=Math.trunc(a/2);this.g=[];this.u=[];this.i=new tc(a-this.o)}q(R,r);p("GoogleSmartCard.LogBuffer",R);function vc(a,b,c){a=a.onLogRecordObserved_.bind(a,c);hc(b,a)}R.attachBufferToLogger=vc;R.prototype.v=function(){this.g.length=0;this.u.length=0;this.i.clear();R.G.v.call(this)};R.prototype.J=function(){return this.D};R.prototype.getCapacity=R.prototype.J;
function wc(a,b,c,d){this.logCount=a;this.formattedLogsPrefix=b;this.skippedLogCount=c;this.formattedLogsSuffix=d}R.State=wc;wc.prototype.g=function(){var a=wa(this.formattedLogsPrefix).join("");const b=wa(this.formattedLogsSuffix).join("");this.skippedLogCount&&(a+="\n... skipped "+this.skippedLogCount+" messages ...\n\n");return a+b};wc.prototype.getAsText=wc.prototype.g;R.prototype.l=function(){return new wc(this.j,qa(this.g),this.j-this.g.length-this.i.g.length,this.i.I())};
R.prototype.getState=R.prototype.l;R.prototype.H=function(a,b){if(!this.s){for(var c of this.u)c(a,b);c=[];a:{let d;try{d=a instanceof vb?new vb(a):new vb(a,void 0)}catch(f){a=`<${a}>`;break a}a="/_generated_background_page.html"==d.h?"":`<${d.h}>`}a&&c.push(a);b.g&&c.push(b.g);c=c.join(".");b=new L(b.i,b.getMessage(),c,b.j,b.o);b=rc(sc,b);this.m(b)}};R.prototype.onLogRecordObserved_=R.prototype.H;R.prototype.m=function(a){this.s||(this.g.length<this.o?this.g.push(a):this.i.add(a),++this.j)};
R.prototype.addFormattedLogRecord_=R.prototype.m;function xc(a){const b=Date.now(),c=b-yc;let d=a.filter(g=>c<=g&&g<=b);d.length>=zc&&(d=d.slice(-zc+1));d.push(b);if(!chrome||!chrome.storage||!chrome.storage.local)return Promise.resolve(d);const f={};f[Ac]=d;return new Promise(g=>{chrome.storage.local.set(f,function(){g(d)})})}
function Bc(){return chrome&&chrome.storage&&chrome.storage.local?new Promise(a=>{chrome.storage.local.get(Ac,function(b){!chrome.runtime.lastError&&b.hasOwnProperty(Ac)&&Array.isArray(b[Ac])?a(b[Ac].filter(c=>Number.isInteger(c))):a([])})}):Promise.resolve([])}var Ac="crash_timestamps",yc=6E4,zc=3,Cc=!1;function Dc(){if(Cc)return Promise.reject(Error("Already crashing"));Cc=!0;return Bc().then(a=>xc(a)).then(a=>Promise.resolve(a.length>=zc))};function Ec(){this.l=n(this.i,this);this.g=new qc;this.g.O=!1;this.g.Z=!1;this.h=this.g.U=!1;this.j={}}Ec.prototype.i=function(a){function b(g){if(g){if(g.value>=Ob.value)return"error";if(g.value>=Pb.value)return"warn";if(g.value>=Rb.value)return"log"}return"debug"}if(!this.j[a.g]){var c=rc(this.g,a),d=Fc;if(d){var f=b(a.i);Gc(d,f,c,a.h)}}};var Fc=h.console;function Gc(a,b,c,d){if(a[b])a[b](c,d||"");else a.log(c,d||"")};function Hc(){vc(Ic,Jc,Kc());chrome&&chrome.runtime&&chrome.runtime.getBackgroundPage&&(h[Lc]=Ic,chrome.runtime.getBackgroundPage(function(a){a||Mc(void 0);if(a!==window){(a=a[Lc])||Mc(void 0);var b=Ic;if(!b.s){b=b.l();var c=a.addFormattedLogRecord_.bind(a);for(const d of b.formattedLogsPrefix)c(d);for(const d of b.formattedLogsSuffix)c(d)}vc(a,Jc,Kc());Ic.C();Ic=a;delete h[Lc]}}))}function Kc(){return"undefined"===typeof document?self.location.href:document.location.href}
function Nc(){Oc&&Dc().then(function(a){a?nc(Jc,"Crash loop detected. The application is defunct, but the execution state is kept in order to retain the failure logs."):(nc(Jc,"Reloading the application due to the fatal error..."),chrome.runtime.reload(),chrome.runtime.restart())}).catch(function(){})}var Lc="googleSmartCard_logBuffer",Jc=gc(""),Pc=gc("GoogleSmartCard"),Qc=!1,Ic=new R(2E3),Oc=!1;p("GoogleSmartCard.disableSelfReloadOnFatalError",function(){Oc=!1});
function Rc(a,b){(a=gc(a,b))||Mc(void 0);return a}function Sc(a){return Rc(a?`${"GoogleSmartCard"}.${a}`:"GoogleSmartCard",void 0)}function S(a,b){b||Tc(a,void 0)}function Mc(a){a=a?a:"Failure";mc(Jc,a);Nc();throw Error(a);}function Tc(a,b){a="Failure in "+a.g();void 0!==b?Mc(a+": "+b):Mc(a)}if(!Qc){Qc=!0;const a=new Ec,b=a.g;b.O=!0;b.T=!1;var Uc=a;if(1!=Uc.h){var Vc=M(N(),"").j;hc(Vc,Uc.l);Uc.h=!0}jc(Jc,Qb);Q(Pc,"Logging was set up with level="+Qb.name+" and enabled logging to JS console");Hc()};/*

 Copyright 2016 Google Inc.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions
 are met:

 1. Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.
 2. Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the
    documentation and/or other materials provided with the distribution.
 3. The name of the author may not be used to endorse or promote products
    derived from this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
 IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
 INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
 THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
p("GoogleSmartCard.PcscLiteCommon.Constants.SERVER_OFFICIAL_APP_ID","khpfeaanjngmcnplbdlpegiifgpfgdco");function Wc(a,b){this.g=a;this.h=b};function Xc(a,b){this.h=a;this.g=b}function Yc(a,b,c){this.j=a;this.i=b;this.g=c;S(this.h,void 0===b||void 0===c)}Yc.prototype.h=Sc("RequesterMessage.ResponseMessageData");function Zc(a,b){a.j(b);100>a.h&&(a.h++,b.next=a.g,a.g=b)}var $c=class{constructor(a,b){this.i=a;this.j=b;this.h=0;this.g=null}get(){let a;0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i();return a}};class ad{constructor(){this.h=this.g=null}add(a,b){const c=bd.get();c.set(a,b);this.h?this.h.next=c:this.g=c;this.h=c}remove(){let a=null;this.g&&(a=this.g,this.g=this.g.next,this.g||(this.h=null),a.next=null);return a}}var bd=new $c(()=>new cd,a=>a.reset());class cd{constructor(){this.next=this.g=this.h=null}set(a,b){this.h=a;this.g=b;this.next=null}reset(){this.next=this.g=this.h=null}};function dd(){var a=document;var b="IFRAME";"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)};function ed(a,b){var c=a;b&&(c=n(a,b));!(a="function"!==typeof h.setImmediate)&&(a=h.Window&&h.Window.prototype)&&(a=-1==Ha.indexOf("Edge")&&h.Window.prototype.setImmediate==h.setImmediate);a?(fd||(fd=gd()),fd(c)):h.setImmediate(c)}var fd;
function gd(){var a=h.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==Ha.indexOf("Presto")&&(a=function(){var f=dd();f.style.display="none";document.documentElement.appendChild(f);var g=f.contentWindow;f=g.document;f.open();f.close();var l="callImmediate"+Math.random(),m="file:"==g.location.protocol?"*":g.location.protocol+"//"+g.location.host;f=n(function(w){if(("*"==m||w.origin==m)&&w.data==l)this.port1.onmessage()},this);g.addEventListener("message",
f,!1);this.port1={};this.port2={postMessage:function(){g.postMessage(l,m)}}});if("undefined"!==typeof a&&-1==Ha.indexOf("Trident")&&-1==Ha.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var f=c.W;c.W=null;f()}};return function(f){d.next={W:f};d=d.next;b.port2.postMessage(0)}}return function(f){h.setTimeout(f,0)}};function hd(a){h.setTimeout(()=>{throw a;},0)};function id(a,b){jd||kd();ld||(jd(),ld=!0);md.add(a,b)}var jd;function kd(){if(h.Promise&&h.Promise.resolve){var a=h.Promise.resolve(void 0);jd=function(){a.then(nd)}}else jd=function(){ed(nd)}}var ld=!1,md=new ad;function nd(){for(var a;a=md.remove();){try{a.h.call(a.g)}catch(b){hd(b)}Zc(bd,a)}ld=!1};function T(a,b){this.g=od;this.o=void 0;this.j=this.h=this.i=null;this.l=this.m=!1;if(a!=aa)try{var c=this;a.call(b,function(d){pd(c,qd,d)},function(d){pd(c,U,d)})}catch(d){pd(this,U,d)}}var od=0,qd=2,U=3;function rd(){this.next=this.i=this.h=this.l=this.g=null;this.j=!1}rd.prototype.reset=function(){this.i=this.h=this.l=this.g=null;this.j=!1};var sd=new $c(function(){return new rd},function(a){a.reset()});function td(a,b,c){var d=sd.get();d.l=a;d.h=b;d.i=c;return d}
function ud(a){return new T(function(b,c){c(a)})}function vd(a,b,c){wd(a,b,c,null)||id(ia(b,a))}function xd(){var a,b,c=new T(function(d,f){a=d;b=f});return new yd(c,a,b)}T.prototype.then=function(a,b,c){return zd(this,"function"===typeof a?a:null,"function"===typeof b?b:null,c)};T.prototype.$goog_Thenable=!0;e=T.prototype;e.aa=function(a,b){a=td(a,a,b);a.j=!0;Ad(this,a);return this};e.pa=function(a,b){return zd(this,null,a,b)};
e.cancel=function(a){if(this.g==od){var b=new Bd(a);id(function(){Cd(this,b)},this)}};function Cd(a,b){if(a.g==od)if(a.i){var c=a.i;if(c.h){for(var d=0,f=null,g=null,l=c.h;l&&(l.j||(d++,l.g==a&&(f=l),!(f&&1<d)));l=l.next)f||(g=l);f&&(c.g==od&&1==d?Cd(c,b):(g?(d=g,d.next==c.j&&(c.j=d),d.next=d.next.next):Dd(c),Ed(c,f,U,b)))}a.i=null}else pd(a,U,b)}function Ad(a,b){a.h||a.g!=qd&&a.g!=U||Fd(a);a.j?a.j.next=b:a.h=b;a.j=b}
function zd(a,b,c,d){var f=td(null,null,null);f.g=new T(function(g,l){f.l=b?function(m){try{var w=b.call(d,m);g(w)}catch(E){l(E)}}:g;f.h=c?function(m){try{var w=c.call(d,m);void 0===w&&m instanceof Bd?l(m):g(w)}catch(E){l(E)}}:l});f.g.i=a;Ad(a,f);return f.g}e.qa=function(a){this.g=od;pd(this,qd,a)};e.ra=function(a){this.g=od;pd(this,U,a)};
function pd(a,b,c){a.g==od&&(a===c&&(b=U,c=new TypeError("Promise cannot resolve to itself")),a.g=1,wd(c,a.qa,a.ra,a)||(a.o=c,a.g=b,a.i=null,Fd(a),b!=U||c instanceof Bd||Gd(a,c)))}function wd(a,b,c,d){if(a instanceof T)return Ad(a,td(b||aa,c||null,d)),!0;if(a)try{var f=!!a.$goog_Thenable}catch(l){f=!1}else f=!1;if(f)return a.then(b,c,d),!0;if(k(a))try{var g=a.then;if("function"===typeof g)return Hd(a,g,b,c,d),!0}catch(l){return c.call(d,l),!0}return!1}
function Hd(a,b,c,d,f){function g(w){m||(m=!0,d.call(f,w))}function l(w){m||(m=!0,c.call(f,w))}var m=!1;try{b.call(a,l,g)}catch(w){g(w)}}function Fd(a){a.m||(a.m=!0,id(a.la,a))}function Dd(a){var b=null;a.h&&(b=a.h,a.h=b.next,b.next=null);a.h||(a.j=null);return b}e.la=function(){for(var a;a=Dd(this);)Ed(this,a,this.g,this.o);this.m=!1};
function Ed(a,b,c,d){if(c==U&&b.h&&!b.j)for(;a&&a.l;a=a.i)a.l=!1;if(b.g)b.g.i=null,Id(b,c,d);else try{b.j?b.l.call(b.i):Id(b,c,d)}catch(f){Jd.call(null,f)}Zc(sd,b)}function Id(a,b,c){b==qd?a.l.call(a.i,c):a.h&&a.h.call(a.i,c)}function Gd(a,b){a.l=!0;id(function(){a.l&&Jd.call(null,b)})}var Jd=hd;function Bd(a){t.call(this,a)}q(Bd,t);Bd.prototype.name="cancel";function yd(a,b,c){this.promise=a;this.h=b;this.g=c};function V(){r.call(this);this.m={}}q(V,r);e=V.prototype;e.A=gc("goog.messaging.AbstractChannel");e.connect=function(a){a&&a()};e.ea=function(){return!0};e.registerService=function(a,b,c){this.m[a]={V:b,X:!!c}};e.Y=function(a){this.l=a};e.getService=function(a,b){const c=this.m[a];if(c)return c;if(this.l)return{V:ia(this.l,a),X:k(b)};P(this.A,'Unknown service name "'+a+'"');return null};e.v=function(){V.G.v.call(this);delete this.m;delete this.l};function Kd(a,b){r.call(this);this.g=Sc('Requester<"'+a+'">');this.l=a;this.j=b;this.o=xa();this.i=new Map;this.j.registerService(this.l+"::response",this.u.bind(this),!0);this.j.N(this.m.bind(this))}q(Kd,r);Kd.prototype.v=function(){const a=Array.from(this.i.keys());a.sort(sa);na(a,function(b){isFinite(b)&&(b=String(b));Ld(this,"string"===typeof b?/^\s*-?0x/i.test(b)?parseInt(b,16):parseInt(b,10):NaN,"The requester is disposed")},this);this.j=this.i=null;Q(this.g,"Disposed");Kd.G.v.call(this)};
Kd.prototype.m=function(){this.s||(nc(this.g,"Message channel was disposed, disposing..."),this.C())};
Kd.prototype.u=function(a){S(this.g,k(a));if(!this.s){if(2==Fa(a)&&null!==a&&"request_id"in a&&"number"===typeof a.request_id){var b=a.request_id;b=null!==a&&"payload"in a?new Yc(b,a.payload):null!==a&&"error"in a&&"string"===typeof a.error?new Yc(b,void 0,a.error):null}else b=null;null===b&&Tc(this.g,"Failed to parse the received response message: "+x());a=b.j;this.i.has(a)||Tc(this.g,"Received a response for unknown request with identifier "+a);void 0===b.g?(S(b.h,void 0===b.g),b=b.i,Q(this.g,"The request with identifier "+
a+" succeeded with the following result: "+x()),Md(this,a).h(b)):(S(b.h,void 0!==b.g),S(b.h,"string"===typeof b.g),Ld(this,a,b.g))}};function Ld(a,b,c){Q(a.g,"The request with identifier "+b+" failed: "+c);Md(a,b).g(Error(c))}function Md(a,b){const c=a.i.get(b);S(a.g,void 0!==c);a.i.delete(b);return c};function W(a){r.call(this);this.g=Sc("PcscLiteClient.API");this.i=a;this.i.N(this.l.bind(this));this.j=new Kd("pcsc_lite_function_call",this.i);Q(this.g,"Initialized")}q(W,r);p("GoogleSmartCard.PcscLiteClient.API",W);W.MAX_ATR_SIZE=33;var Nd=F(0);W.SCARD_S_SUCCESS=Nd;var Od=F(2148532225);W.SCARD_F_INTERNAL_ERROR=Od;var Pd=F(2148532226);W.SCARD_E_CANCELLED=Pd;var Qd=F(2148532227);W.SCARD_E_INVALID_HANDLE=Qd;var Rd=F(2148532228);W.SCARD_E_INVALID_PARAMETER=Rd;var Sd=F(2148532229);
W.SCARD_E_INVALID_TARGET=Sd;var Td=F(2148532230);W.SCARD_E_NO_MEMORY=Td;var Ud=F(2148532231);W.SCARD_F_WAITED_TOO_LONG=Ud;var Vd=F(2148532232);W.SCARD_E_INSUFFICIENT_BUFFER=Vd;var Wd=F(2148532233);W.SCARD_E_UNKNOWN_READER=Wd;var Xd=F(2148532234);W.SCARD_E_TIMEOUT=Xd;var Yd=F(2148532235);W.SCARD_E_SHARING_VIOLATION=Yd;var Zd=F(2148532236);W.SCARD_E_NO_SMARTCARD=Zd;var $d=F(2148532237);W.SCARD_E_UNKNOWN_CARD=$d;var ae=F(2148532238);W.SCARD_E_CANT_DISPOSE=ae;var be=F(2148532239);
W.SCARD_E_PROTO_MISMATCH=be;var ce=F(2148532240);W.SCARD_E_NOT_READY=ce;var de=F(2148532241);W.SCARD_E_INVALID_VALUE=de;var ee=F(2148532242);W.SCARD_E_SYSTEM_CANCELLED=ee;var fe=F(2148532243);W.SCARD_F_COMM_ERROR=fe;var ge=F(2148532244);W.SCARD_F_UNKNOWN_ERROR=ge;var he=F(2148532245);W.SCARD_E_INVALID_ATR=he;var ie=F(2148532246);W.SCARD_E_NOT_TRANSACTED=ie;var je=F(2148532247);W.SCARD_E_READER_UNAVAILABLE=je;var ke=F(2148532248);W.SCARD_P_SHUTDOWN=ke;var le=F(2148532249);W.SCARD_E_PCI_TOO_SMALL=le;
var me=F(2148532250);W.SCARD_E_READER_UNSUPPORTED=me;var ne=F(2148532251);W.SCARD_E_DUPLICATE_READER=ne;var oe=F(2148532252);W.SCARD_E_CARD_UNSUPPORTED=oe;var pe=F(2148532253);W.SCARD_E_NO_SERVICE=pe;var qe=F(2148532254);W.SCARD_E_SERVICE_STOPPED=qe;var re=F(2148532255);W.SCARD_E_UNEXPECTED=re;var se=F(2148532255);W.SCARD_E_UNSUPPORTED_FEATURE=se;var te=F(2148532256);W.SCARD_E_ICC_INSTALLATION=te;var ue=F(2148532257);W.SCARD_E_ICC_CREATEORDER=ue;var ve=F(2148532259);W.SCARD_E_DIR_NOT_FOUND=ve;
var we=F(2148532260);W.SCARD_E_FILE_NOT_FOUND=we;var xe=F(2148532261);W.SCARD_E_NO_DIR=xe;var ye=F(2148532262);W.SCARD_E_NO_FILE=ye;var ze=F(2148532263);W.SCARD_E_NO_ACCESS=ze;var Ae=F(2148532264);W.SCARD_E_WRITE_TOO_MANY=Ae;var Be=F(2148532265);W.SCARD_E_BAD_SEEK=Be;var Ce=F(2148532266);W.SCARD_E_INVALID_CHV=Ce;var De=F(2148532267);W.SCARD_E_UNKNOWN_RES_MNG=De;var Ee=F(2148532268);W.SCARD_E_NO_SUCH_CERTIFICATE=Ee;var Fe=F(2148532269);W.SCARD_E_CERTIFICATE_UNAVAILABLE=Fe;var Ge=F(2148532270);
W.SCARD_E_NO_READERS_AVAILABLE=Ge;var He=F(2148532271);W.SCARD_E_COMM_DATA_LOST=He;var Ie=F(2148532272);W.SCARD_E_NO_KEY_CONTAINER=Ie;var Je=F(2148532273);W.SCARD_E_SERVER_TOO_BUSY=Je;var Ke=F(2148532325);W.SCARD_W_UNSUPPORTED_CARD=Ke;var Le=F(2148532326);W.SCARD_W_UNRESPONSIVE_CARD=Le;var Me=F(2148532327);W.SCARD_W_UNPOWERED_CARD=Me;var Ne=F(2148532328);W.SCARD_W_RESET_CARD=Ne;var Oe=F(2148532329);W.SCARD_W_REMOVED_CARD=Oe;var Pe=F(2148532330);W.SCARD_W_SECURITY_VIOLATION=Pe;var Qe=F(2148532331);
W.SCARD_W_WRONG_CHV=Qe;var Re=F(2148532332);W.SCARD_W_CHV_BLOCKED=Re;var Se=F(2148532333);W.SCARD_W_EOF=Se;var Te=F(2148532334);W.SCARD_W_CANCELLED_BY_USER=Te;var Ue=F(2148532335);W.SCARD_W_CARD_NOT_AUTHENTICATED=Ue;var Ve=F(4294967295);W.SCARD_AUTOALLOCATE=Ve;W.SCARD_SCOPE_USER=0;W.SCARD_SCOPE_TERMINAL=1;W.SCARD_SCOPE_SYSTEM=2;W.SCARD_PROTOCOL_UNDEFINED=0;W.SCARD_PROTOCOL_UNSET=0;W.SCARD_PROTOCOL_T0=1;W.SCARD_PROTOCOL_T1=2;W.SCARD_PROTOCOL_RAW=4;W.SCARD_PROTOCOL_T15=8;W.SCARD_PROTOCOL_ANY=3;
W.SCARD_SHARE_EXCLUSIVE=1;W.SCARD_SHARE_SHARED=2;W.SCARD_SHARE_DIRECT=3;W.SCARD_LEAVE_CARD=0;W.SCARD_RESET_CARD=1;W.SCARD_UNPOWER_CARD=2;W.SCARD_EJECT_CARD=3;W.SCARD_UNKNOWN=1;W.SCARD_ABSENT=2;W.SCARD_PRESENT=4;W.SCARD_SWALLOWED=8;W.SCARD_POWERED=16;W.SCARD_NEGOTIABLE=32;W.SCARD_SPECIFIC=64;W.SCARD_STATE_UNAWARE=0;W.SCARD_STATE_IGNORE=1;W.SCARD_STATE_CHANGED=2;W.SCARD_STATE_UNKNOWN=4;W.SCARD_STATE_UNAVAILABLE=8;W.SCARD_STATE_EMPTY=16;W.SCARD_STATE_PRESENT=32;W.SCARD_STATE_ATRMATCH=64;
W.SCARD_STATE_EXCLUSIVE=128;W.SCARD_STATE_INUSE=256;W.SCARD_STATE_MUTE=512;W.SCARD_STATE_UNPOWERED=1024;W.INFINITE=4294967295;W.PCSCLITE_MAX_READERS_CONTEXTS=16;W.MAX_READERNAME=128;W.SCARD_ATR_LENGTH=33;W.MAX_BUFFER_SIZE=264;W.MAX_BUFFER_SIZE_EXTENDED=65548;W.SCARD_ATTR_VALUE=function(a,b){return a<<16|b};W.SCARD_CLASS_VENDOR_INFO=1;W.SCARD_CLASS_COMMUNICATIONS=2;W.SCARD_CLASS_PROTOCOL=3;W.SCARD_CLASS_POWER_MGMT=4;W.SCARD_CLASS_SECURITY=5;W.SCARD_CLASS_MECHANICAL=6;W.SCARD_CLASS_VENDOR_DEFINED=7;
W.SCARD_CLASS_IFD_PROTOCOL=8;W.SCARD_CLASS_ICC_STATE=9;W.SCARD_CLASS_SYSTEM=32767;W.SCARD_ATTR_VENDOR_NAME=65792;W.SCARD_ATTR_VENDOR_IFD_TYPE=65793;W.SCARD_ATTR_VENDOR_IFD_VERSION=65794;W.SCARD_ATTR_VENDOR_IFD_SERIAL_NO=65795;W.SCARD_ATTR_CHANNEL_ID=131344;W.SCARD_ATTR_ASYNC_PROTOCOL_TYPES=196896;W.SCARD_ATTR_DEFAULT_CLK=196897;W.SCARD_ATTR_MAX_CLK=196898;W.SCARD_ATTR_DEFAULT_DATA_RATE=196899;W.SCARD_ATTR_MAX_DATA_RATE=196900;W.SCARD_ATTR_MAX_IFSD=196901;W.SCARD_ATTR_SYNC_PROTOCOL_TYPES=196902;
W.SCARD_ATTR_POWER_MGMT_SUPPORT=262449;W.SCARD_ATTR_USER_TO_CARD_AUTH_DEVICE=328E3;W.SCARD_ATTR_USER_AUTH_INPUT_DEVICE=328002;W.SCARD_ATTR_CHARACTERISTICS=393552;W.SCARD_ATTR_CURRENT_PROTOCOL_TYPE=524801;W.SCARD_ATTR_CURRENT_CLK=524802;W.SCARD_ATTR_CURRENT_F=524803;W.SCARD_ATTR_CURRENT_D=524804;W.SCARD_ATTR_CURRENT_N=524805;W.SCARD_ATTR_CURRENT_W=524806;W.SCARD_ATTR_CURRENT_IFSC=524807;W.SCARD_ATTR_CURRENT_IFSD=524808;W.SCARD_ATTR_CURRENT_BWT=524809;W.SCARD_ATTR_CURRENT_CWT=524810;
W.SCARD_ATTR_CURRENT_EBC_ENCODING=524811;W.SCARD_ATTR_EXTENDED_BWT=524812;W.SCARD_ATTR_ICC_PRESENCE=590592;W.SCARD_ATTR_ICC_INTERFACE_STATUS=590593;W.SCARD_ATTR_CURRENT_IO_STATE=590594;W.SCARD_ATTR_ATR_STRING=590595;W.SCARD_ATTR_ICC_TYPE_PER_ATR=590596;W.SCARD_ATTR_ESC_RESET=499712;W.SCARD_ATTR_ESC_CANCEL=499715;W.SCARD_ATTR_ESC_AUTHREQUEST=499717;W.SCARD_ATTR_MAXINPUT=499719;W.SCARD_ATTR_DEVICE_UNIT=2147418113;W.SCARD_ATTR_DEVICE_IN_USE=2147418114;W.SCARD_ATTR_DEVICE_FRIENDLY_NAME_A=2147418115;
W.SCARD_ATTR_DEVICE_SYSTEM_NAME_A=2147418116;W.SCARD_ATTR_DEVICE_FRIENDLY_NAME_W=2147418117;W.SCARD_ATTR_DEVICE_SYSTEM_NAME_W=2147418118;W.SCARD_ATTR_SUPRESS_T1_IFS_REQUEST=2147418119;W.SCARD_ATTR_DEVICE_FRIENDLY_NAME=2147418117;W.SCARD_ATTR_DEVICE_SYSTEM_NAME=2147418118;function We(a){return F(1107296256)+a}W.SCARD_CTL_CODE=We;var Xe=We(3400);W.CM_IOCTL_GET_FEATURE_REQUEST=Xe;W.FEATURE_VERIFY_PIN_START=1;W.FEATURE_VERIFY_PIN_FINISH=2;W.FEATURE_MODIFY_PIN_START=3;W.FEATURE_MODIFY_PIN_FINISH=4;
W.FEATURE_GET_KEY_PRESSED=5;W.FEATURE_VERIFY_PIN_DIRECT=6;W.FEATURE_MODIFY_PIN_DIRECT=7;W.FEATURE_MCT_READER_DIRECT=8;W.FEATURE_MCT_UNIVERSAL=9;W.FEATURE_IFD_PIN_PROPERTIES=10;W.FEATURE_ABORT=11;W.FEATURE_SET_SPE_MESSAGE=12;W.FEATURE_VERIFY_PIN_DIRECT_APP_ID=13;W.FEATURE_MODIFY_PIN_DIRECT_APP_ID=14;W.FEATURE_WRITE_DISPLAY=15;W.FEATURE_GET_KEY=16;W.FEATURE_IFD_DISPLAY_PROPERTIES=17;W.FEATURE_GET_TLV_PROPERTIES=18;W.FEATURE_CCID_ESC_COMMAND=19;W.FEATURE_EXECUTE_PACE=32;
W.PCSCv2_PART10_PROPERTY_wLcdLayout=1;W.PCSCv2_PART10_PROPERTY_bEntryValidationCondition=2;W.PCSCv2_PART10_PROPERTY_bTimeOut2=3;W.PCSCv2_PART10_PROPERTY_wLcdMaxCharacters=4;W.PCSCv2_PART10_PROPERTY_wLcdMaxLines=5;W.PCSCv2_PART10_PROPERTY_bMinPINSize=6;W.PCSCv2_PART10_PROPERTY_bMaxPINSize=7;W.PCSCv2_PART10_PROPERTY_sFirmwareID=8;W.PCSCv2_PART10_PROPERTY_bPPDUSupport=9;W.PCSCv2_PART10_PROPERTY_dwMaxAPDUDataSize=10;W.PCSCv2_PART10_PROPERTY_wIdVendor=11;W.PCSCv2_PART10_PROPERTY_wIdProduct=12;
function Ye(a){this.protocol=a}W.SCARD_IO_REQUEST=Ye;W.SCARD_PCI_T0=new Ye(1);W.SCARD_PCI_T1=new Ye(2);W.SCARD_PCI_RAW=new Ye(4);W.SCARD_READERSTATE_IN=function(a,b,c){this.reader_name=a;this.current_state=b;void 0!==c&&(this.user_data=c)};W.SCARD_READERSTATE_OUT=function(a,b,c,d,f){this.reader_name=a;this.current_state=b;this.event_state=c;this.atr=d;void 0!==f&&(this.user_data=f)};function X(a){S(this.l,1<=a.length);this.i=a[0];this.h=this.j()?ra(a,1):void 0}W.ResultOrErrorCode=X;
X.prototype.l=Sc("PcscLiteClient.API.ResultOrErrorCode");X.prototype.g=function(a,b,c,d){this.j()?(S(this.l,this.h.length==a),b&&b.apply(d,this.h)):c&&c.apply(d,[this.i])};X.prototype.getBase=X.prototype.g;X.prototype.j=function(){return this.i==Nd};X.prototype.isSuccessful=X.prototype.j;X.prototype.o=function(){S(this.l,this.j());S(this.l,void 0!==this.h);return this.h};X.prototype.getResult=X.prototype.o;
X.prototype.m=function(){if(this.i==Nd)var a="SCARD_S_SUCCESS"+(this.h&&this.h.length?" "+x():"");else{{const b=new WeakSet;try{a=La(this.i,b)}catch(c){a="<failed to dump the value>"}}a="error "+a}return a};X.prototype.getDebugRepresentation=X.prototype.m;W.prototype.ia=function(a){const b=this.g;return Y(this,"pcsc_stringify_error",[a],function(c){S(b,1==c.length);S(b,"string"===typeof c[0]);return c[0]})};W.prototype.pcsc_stringify_error=W.prototype.ia;
W.prototype.L=function(a,b,c){void 0===b&&(b=null);void 0===c&&(c=null);return Y(this,"SCardEstablishContext",[a,b,c],function(d){return new Ze(d)})};W.prototype.SCardEstablishContext=W.prototype.L;function Ze(a){X.call(this,a)}q(Ze,X);W.SCardEstablishContextResult=Ze;Ze.prototype.get=function(a,b,c){this.g(1,a,b,c)};Ze.prototype.get=Ze.prototype.get;W.prototype.da=function(a){return Y(this,"SCardReleaseContext",[a],function(b){return new $e(b)})};W.prototype.SCardReleaseContext=W.prototype.da;
function $e(a){X.call(this,a)}q($e,X);W.SCardReleaseContextResult=$e;$e.prototype.get=function(a,b,c){this.g(0,a,b,c)};$e.prototype.get=$e.prototype.get;W.prototype.u=function(a,b,c,d){return Y(this,"SCardConnect",[a,b,c,d],function(f){return new af(f)})};W.prototype.SCardConnect=W.prototype.u;function af(a){af.B(this,"constructor",a)}W.SCardConnectResult=af;q(af,X);af.prototype.get=function(a,b,c){this.g(2,a,b,c)};af.prototype.get=af.prototype.get;
W.prototype.ca=function(a,b,c,d){return Y(this,"SCardReconnect",[a,b,c,d],function(f){return new bf(f)})};W.prototype.SCardReconnect=W.prototype.ca;function bf(a){bf.B(this,"constructor",a)}W.SCardReconnectResult=bf;q(bf,X);bf.prototype.get=function(a,b,c){this.g(1,a,b,c)};bf.prototype.get=bf.prototype.get;W.prototype.J=function(a,b){return Y(this,"SCardDisconnect",[a,b],function(c){return new cf(c)})};W.prototype.SCardDisconnect=W.prototype.J;function cf(a){cf.B(this,"constructor",a)}
W.SCardDisconnectResult=cf;q(cf,X);cf.prototype.get=function(a,b,c){this.g(0,a,b,c)};cf.prototype.get=cf.prototype.get;W.prototype.m=function(a){return Y(this,"SCardBeginTransaction",[a],function(b){return new df(b)})};W.prototype.SCardBeginTransaction=W.prototype.m;function df(a){df.B(this,"constructor",a)}W.SCardBeginTransactionResult=df;q(df,X);df.prototype.get=function(a,b,c){this.g(0,a,b,c)};df.prototype.get=df.prototype.get;
W.prototype.H=function(a,b){return Y(this,"SCardEndTransaction",[a,b],function(c){return new ef(c)})};W.prototype.SCardEndTransaction=W.prototype.H;function ef(a){ef.B(this,"constructor",a)}W.SCardEndTransactionResult=ef;q(ef,X);ef.prototype.get=function(a,b,c){this.g(0,a,b,c)};ef.prototype.get=ef.prototype.get;W.prototype.ga=function(a){return Y(this,"SCardStatus",[a],function(b){return new ff(b)})};W.prototype.SCardStatus=W.prototype.ga;function ff(a){ff.B(this,"constructor",a)}
W.SCardStatusResult=ff;q(ff,X);ff.prototype.get=function(a,b,c){this.g(4,a,b,c)};ff.prototype.get=ff.prototype.get;W.prototype.P=function(a,b,c){return Y(this,"SCardGetStatusChange",[a,b,c],function(d){return new gf(d)})};W.prototype.SCardGetStatusChange=W.prototype.P;function gf(a){gf.B(this,"constructor",a)}W.SCardGetStatusChangeResult=gf;q(gf,X);gf.prototype.get=function(a,b,c){this.g(1,a,b,c)};gf.prototype.get=gf.prototype.get;
W.prototype.D=function(a,b,c){return Y(this,"SCardControl",[a,b,c],function(d){return new hf(d)})};W.prototype.SCardControl=W.prototype.D;function hf(a){hf.B(this,"constructor",a)}W.SCardControlResult=hf;q(hf,X);hf.prototype.get=function(a,b,c){this.g(1,a,b,c)};hf.prototype.get=hf.prototype.get;W.prototype.M=function(a,b){return Y(this,"SCardGetAttrib",[a,b],function(c){return new jf(c)})};W.prototype.SCardGetAttrib=W.prototype.M;function jf(a){jf.B(this,"constructor",a)}W.SCardGetAttribResult=jf;
q(jf,X);jf.prototype.get=function(a,b,c){this.g(1,a,b,c)};jf.prototype.get=jf.prototype.get;W.prototype.fa=function(a,b,c){return Y(this,"SCardSetAttrib",[a,b,c],function(d){return new kf(d)})};W.prototype.SCardSetAttrib=W.prototype.fa;function kf(a){kf.B(this,"constructor",a)}W.SCardSetAttribResult=kf;q(kf,X);kf.prototype.get=function(a,b,c){this.g(0,a,b,c)};kf.prototype.get=kf.prototype.get;W.prototype.ha=function(a,b,c,d){return Y(this,"SCardTransmit",[a,b,c,d],function(f){return new lf(f)})};
W.prototype.SCardTransmit=W.prototype.ha;function lf(a){lf.B(this,"constructor",a)}W.SCardTransmitResult=lf;q(lf,X);lf.prototype.get=function(a,b,c){this.g(2,a,b,c)};lf.prototype.get=lf.prototype.get;W.prototype.ba=function(a,b){return Y(this,"SCardListReaders",[a,b],function(c){return new mf(c)})};W.prototype.SCardListReaders=W.prototype.ba;function mf(a){mf.B(this,"constructor",a)}W.SCardListReadersResult=mf;q(mf,X);mf.prototype.get=function(a,b,c){this.g(1,a,b,c)};mf.prototype.get=mf.prototype.get;
W.prototype.S=function(a){return Y(this,"SCardListReaderGroups",[a],function(b){return new nf(b)})};W.prototype.SCardListReaderGroups=W.prototype.S;function nf(a){nf.B(this,"constructor",a)}W.SCardListReaderGroupsResult=nf;q(nf,X);nf.prototype.get=function(a,b,c){this.g(1,a,b,c)};nf.prototype.get=nf.prototype.get;W.prototype.o=function(a){return Y(this,"SCardCancel",[a],function(b){return new of(b)})};W.prototype.SCardCancel=W.prototype.o;function of(a){of.B(this,"constructor",a)}
W.SCardCancelResult=of;q(of,X);of.prototype.get=function(a,b,c){this.g(0,a,b,c)};of.prototype.get=of.prototype.get;W.prototype.R=function(a){return Y(this,"SCardIsValidContext",[a],function(b){return new pf(b)})};W.prototype.SCardIsValidContext=W.prototype.R;function pf(a){pf.B(this,"constructor",a)}W.SCardIsValidContextResult=pf;q(pf,X);pf.prototype.get=function(a,b,c){this.g(0,a,b,c)};pf.prototype.get=pf.prototype.get;W.prototype.v=function(){this.j.C();this.i=this.j=null;Q(this.g,"Disposed");W.G.v.call(this)};
W.prototype.l=function(){this.s||(nc(this.g,"Message channel was disposed, disposing..."),this.C())};
function Y(a,b,c,d){if(a.s)return ud(Error("The API instance is already disposed"));b=new Wc(b,c);{a=a.j;c={function_name:b.g,arguments:b.h};const f=a.o.next();Q(a.g,"Starting a request with identifier "+f+", the payload is: "+x());b=xd();a.s?b.g(Error("The requester is already disposed")):(S(a.g,!a.i.has(f)),a.i.set(f,b),c=new Xc(f,c),a.j.send(a.l+"::request",{request_id:c.h,payload:c.g}));a=b.promise}return a.then(d)};/*

 Copyright 2018 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function qf(a){if(a instanceof ArrayBuffer)a=Array.from(new Uint8Array(a));else if(Array.isArray(a))a=a.map(qf);else if(k(a)&&"function"!==typeof a&&!ArrayBuffer.isView(a)){var b=qf;const c={};for(const d in a)c[d]=b.call(void 0,a[d],d,a);a=c}return a};function rf(a,b,c){if("function"===typeof a)c&&(a=n(a,c));else if(a&&"function"==typeof a.handleEvent)a=n(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:h.setTimeout(a,b||0)};function sf(a,b,c){r.call(this);this.g=Rc(b.g()+".Pinger");this.j=a;this.j.registerService("pong",this.u.bind(this),!0);this.l=void 0!==c?c:null;this.i=this.m=null;tf(this);ed(this.o,this)}q(sf,r);sf.prototype.v=function(){uf(this);this.j=this.l=null;Q(this.g,"Disposed");sf.G.v.call(this)};
sf.prototype.u=function(a){S(this.g,k(a));this.s||(null!==a&&"channel_id"in a?(a=a.channel_id,"number"!==typeof a?(P(this.g,"Received pong message has wrong format: channel id is not a number. Disposing..."),vf(this)):null===this.m?(Q(this.g,"Received the first pong response (remote channel id is "+a+"). The message channel is considered established"),this.m=a,this.l&&(this.l(),this.l=null)):this.m==a?(O(this.g,J,"Received a pong response with the correct channel id, so the remote end considered alive"),
uf(this),tf(this)):(P(this.g,"Received a pong response with a channel id different from the expected one (expected "+this.m+", received "+a+"). Disposing..."),vf(this))):(P(this.g,'Received pong message has wrong format: no "channel_id" field is present. Disposing...'),vf(this)))};function vf(a){Q(a.g,"Disposing the message channel and self");a.j.C();a.C()}sf.prototype.o=function(){this.s||(O(this.g,J,"Sending a ping request..."),this.j.send("ping",{}));this.s||rf(this.o,1E4,this)};
function tf(a){S(a.g,null===a.i);a.i=rf(a.D.bind(a),6E5,a)}function uf(a){null!==a.i&&(h.clearTimeout(a.i),a.i=null)}sf.prototype.D=function(){this.s||(P(this.g,"No pong response received in time, the remote end is dead. Disposing..."),vf(this))};function wf(a,b,c){r.call(this);this.g=Rc(b.g()+".PingResponder");this.i=a;this.i.registerService("ping",this.l.bind(this),!0);this.j=c;Q(this.g,"Initialized (generated channel id is "+xf+")")}q(wf,r);
var xf=function(){const a=new Uint8Array(6);"undefined"!==typeof window?window.crypto.getRandomValues(a):self.crypto.getRandomValues(a);let b=0;na(a,function(c){b=256*b+c});return b}();wf.prototype.l=function(){if(!this.s){O(this.g,J,"Received a ping request, sending pong response...");var a=this.i;a.send.call(a,"pong",{channel_id:xf});this.j&&this.j()}};wf.prototype.v=function(){this.j=this.i=null;Q(this.g,"Disposed");wf.G.v.call(this)};/*

 Copyright 2021 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var yf=Sc("MessagingOrigin");function zf(a){if(!a)return null;if(a.id)return a=a.id,S(yf,32===a.length&&!!a.match(/[a-p]/i)),`${"chrome-extension:"}//${a}`;if(a.url){let b;try{b=new URL(a.url)}catch(c){return null}return b.origin}return null};function Af(a,b){this.type=a;this.data=b};function Bf(a,b){V.call(this);this.g=a;this.o=zf(a.sender);this.A=Sc('PortMessageChannel<"'+a.name+'"'+(null===this.o?"":', sender="'+this.o+'"')+">");this.i=this.ka.bind(this);this.g.onDisconnect.addListener(this.i);this.j=this.oa.bind(this);this.g.onMessage.addListener(this.j);this.Y(this.ja.bind(this));this.u=new wf(this,this.A);this.D=new sf(this,this.A,b);Q(this.A,"Initialized successfully")}q(Bf,V);e=Bf.prototype;
e.send=function(a,b){S(this.A,k(b));b=qf(b);a=new Af(a,b);a={type:a.type,data:a.data};O(this.A,J,"Posting a message: "+x());this.s&&Tc(this.A,"Failed to post message: the channel is already disposed");try{this.g.postMessage(a)}catch(c){this.C(),Tc(this.A,"Failed to post message: "+c)}};
e.v=function(){this.D.C();this.D=null;this.u.C();this.u=null;this.g.onMessage.removeListener(this.j);this.j=null;this.g.onDisconnect.removeListener(this.i);this.i=null;this.g.disconnect();this.g=null;Q(this.A,"Disposed");Bf.G.v.call(this)};e.ka=function(){let a="";chrome.runtime&&chrome.runtime.lastError&&chrome.runtime.lastError.message&&(a=` due to '${chrome.runtime.lastError.message}'`);nc(this.A,`Message port was disconnected${a}, disposing...`);this.C()};
e.oa=function(a){O(this.A,J,"Received a message: "+x());var b;(b=k(a)&&2==Fa(a)&&null!==a&&"type"in a&&"string"===typeof a.type&&null!==a&&"data"in a&&k(a.data)?new Af(a.type,a.data):null)||Tc(this.A,"Failed to parse the received message: "+x());a=b.type;b=b.data;const c=this.getService(a,b);if(c){a:{var d=c.X;if(d&&"string"===typeof b)try{var f=JSON.parse(b);break a}catch(g){P(this.A,"Expected JSON payload for "+a+', was "'+b+'"');f=null;break a}else if(!d&&"string"!==typeof b){f=ya(b);break a}f=
b}null!=f&&c.V(f)}};e.ja=function(a){Tc(this.A,'Unhandled message received: serviceName="'+a+'", payload='+x())};function Z(a,b){r.call(this);this.j=null;this.o=a;this.l=void 0;void 0===b?this.l="khpfeaanjngmcnplbdlpegiifgpfgdco":null!==b&&(this.l=b);this.g=null;this.m=[];Q(this.i,"Constructed")}q(Z,r);p("GoogleSmartCard.PcscLiteClient.Context",Z);Z.prototype.i=Sc("PcscLiteClient.Context");Z.prototype.logger=Z.prototype.i;
Z.prototype.M=function(a){void 0!==a?(this.g=a,ed(this.u,this)):(Q(this.i,"Opening a connection to the server app "+(void 0!==this.l?'(extension id is "'+this.l+'")':"(which is the own app)")+"..."),a={name:this.o},a=void 0!==this.l?chrome.runtime.connect(this.l,a):chrome.runtime.connect(a),this.g=new Bf(a,this.u.bind(this)));this.g.N(this.D.bind(this))};Z.prototype.initialize=Z.prototype.M;Z.prototype.J=function(a){null!==this.j?a(this.j):this.m.push(a)};Z.prototype.addOnInitializedCallback=Z.prototype.J;
Z.prototype.addOnDisposeCallback=Z.prototype.N;Z.prototype.H=function(){return this.j};Z.prototype.getApi=Z.prototype.H;Z.prototype.L=function(){return this.o};Z.prototype.getClientTitle=Z.prototype.L;Z.prototype.v=function(){this.j&&(this.j.C(),this.j=null);this.g&&(this.g.C(),this.g=null);Q(this.i,"Disposed");Z.G.v.call(this)};
Z.prototype.u=function(){if(!this.s&&!this.g.s){Q(this.i,"Message channel was established successfully");S(this.i,null===this.j);S(this.i,null!==this.g);var a=new W(this.g);this.j=a;na(this.m,function(b){b(a)});this.m=[]}};Z.prototype.D=function(){Q(this.i,"Message channel was disposed, disposing...");this.C()};p("goog.log.getLogger",gc);p("goog.log.addHandler",hc);p("goog.log.removeHandler",ic);p("goog.log.log",O);p("goog.log.error",mc);p("goog.log.warning",P);p("goog.log.info",nc);p("goog.log.fine",Q);p("goog.log.ROOT_LOGGER_NAME","");p("goog.log.addHandler",hc);p("goog.log.removeHandler",ic);p("goog.log.setLevel",jc);p("goog.log.getLevel",function(a){return a?M(N(),a.g()).g:null});p("goog.log.getEffectiveLevel",kc);p("goog.log.isLoggable",lc);p("goog.log.log",O);
p("goog.log.getLogRecord",function(a,b,c,d){$b||($b=new Zb);a=new L(b||I,c,a.g());d&&a.l(d);return a});p("goog.log.warning",P);p("goog.log.info",nc);p("goog.log.fine",Q);p("goog.log.LogRecord",L);L.prototype.reset=L.prototype.reset;L.prototype.getLoggerName=L.prototype.J;L.prototype.getException=L.prototype.u;L.prototype.setException=L.prototype.l;L.prototype.setLoggerName=L.prototype.P;L.prototype.getLevel=L.prototype.D;L.prototype.setLevel=L.prototype.M;L.prototype.getMessage=L.prototype.getMessage;
L.prototype.setMessage=L.prototype.R;L.prototype.getMillis=L.prototype.H;L.prototype.setMillis=L.prototype.S;L.prototype.getSequenceNumber=L.prototype.L;p("goog.log.Level",H);H.OFF=I;H.SHOUT=Nb;H.SEVERE=Ob;H.WARNING=Pb;H.INFO=Qb;H.CONFIG=Rb;H.FINE=Sb;H.FINER=Tb;H.FINEST=J;H.ALL=Ub;H.PREDEFINED_LEVELS=Vb;H.getPredefinedLevel=Xb;H.getPredefinedLevelByValue=function(a){K||Wb();if(a in K)return K[a];for(let b=0;b<Vb.length;++b){let c=Vb[b];if(c.value<=a)return c}return null};H.getPredefinedLevel=Xb;
H.getPredefinedLevel=Xb;H.prototype.toString=H.prototype.toString;p("goog.log.Logger",Yb);Yb.Level=H;Yb.prototype.g.Level=Yb.prototype.g;p("goog.Promise",T);T.resolve=function(a){if(a instanceof T)return a;var b=new T(aa);pd(b,qd,a);return b};T.reject=ud;T.race=function(a){return new T(function(b,c){a.length||b(void 0);for(var d=0,f;d<a.length;d++)f=a[d],vd(f,b,c)})};
T.all=function(a){return new T(function(b,c){var d=a.length,f=[];if(d)for(var g=function(E,ec){d--;f[E]=ec;0==d&&b(f)},l=function(E){c(E)},m=0,w;m<a.length;m++)w=a[m],vd(w,ia(g,m),l);else b(f)})};T.allSettled=function(a){return new T(function(b){var c=a.length,d=[];if(c)for(var f=function(m,w,E){c--;d[m]=w?{ma:!0,value:E}:{ma:!1,reason:E};0==c&&b(d)},g=0,l;g<a.length;g++)l=a[g],vd(l,ia(f,g,!0),ia(f,g,!1));else b(d)})};
T.firstFulfilled=function(a){return new T(function(b,c){var d=a.length,f=[];if(d)for(var g=function(E){b(E)},l=function(E,ec){d--;f[E]=ec;0==d&&c(f)},m=0,w;m<a.length;m++)w=a[m],vd(w,g,ia(l,m));else b(void 0)})};T.withResolver=xd;T.setUnhandledRejectionHandler=function(a){Jd=a};T.CancellationError=Bd;T.prototype.then=T.prototype.then;T.prototype.thenAlways=T.prototype.aa;T.prototype.thenCatch=T.prototype.pa;T.prototype.cancel=T.prototype.cancel;T.prototype.thenAlways=T.prototype.aa;
p("goog.Disposable",r);r.prototype.isDisposed=r.prototype.na;r.prototype.dispose=r.prototype.C;r.prototype.addOnDisposeCallback=r.prototype.N;p("goog.messaging.AbstractChannel",V);V.prototype.connect=V.prototype.connect;V.prototype.isConnected=V.prototype.ea;V.prototype.registerService=V.prototype.registerService;V.prototype.registerDefaultService=V.prototype.Y;V.prototype.send=V.prototype.send;})();
/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

export const goog = globalThis.goog;
export const GoogleSmartCard = globalThis.GoogleSmartCard;
